# AI æŠ•è³‡åˆ†æå„€ç³»çµ±

> å°ˆæ¥­ç´šé‡åŒ–æŠ•è³‡åˆ†æå¹³å°ï¼Œæ•´åˆAIæ±ºç­–ã€æŠ€è¡“åˆ†æã€ç±Œç¢¼è¿½è¹¤ã€æŠ•è³‡çµ„åˆç®¡ç†

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/)
[![React](https://img.shields.io/badge/React-18+-61DAFB.svg)](https://reactjs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## ğŸ“‹ ç›®éŒ„

- [åŠŸèƒ½ç‰¹è‰²](#åŠŸèƒ½ç‰¹è‰²)
- [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [APIæ–‡æª”](#apiæ–‡æª”)
- [é–‹ç™¼æŒ‡å—](#é–‹ç™¼æŒ‡å—)
- [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ¤– AIæ™ºèƒ½åˆ†æ
- **å…­å› å­è©•åˆ†ç³»çµ±**: å®è§€ç’°å¢ƒã€æŠ€è¡“é¢ã€ç±Œç¢¼é¢ã€åŸºæœ¬é¢ã€å¸‚å ´æƒ…ç·’ã€ä¼°å€¼æ°´å¹³
- **çµ±åˆæ±ºç­–å ±å‘Š**: Gemini AIé©…å‹•çš„æ·±åº¦åˆ†æå ±å‘Š
- **é›·é”åœ–è¦–è¦ºåŒ–**: ç›´è§€å±•ç¤ºå¤šç¶­åº¦è©•åˆ†

### ğŸ“Š è‚¡åƒ¹æ·±åº¦åˆ†æ
- **ä½éšåˆ¤æ–·**: 52é€±é«˜ä½é»ä½éšåˆ†æ
- **è¶¨å‹¢åˆ†æ**: MAæ’åˆ—ã€è¶¨å‹¢å¼·åº¦ã€å¤šç©ºåˆ¤æ–·
- **é‡åƒ¹é—œä¿‚**: åƒ¹æ¼²é‡å¢/åƒ¹æ¼²é‡ç¸®/èƒŒé›¢æª¢æ¸¬
- **æŠ€è¡“æŒ‡æ¨™**: RSI, MACD, KD, Williams, å¸ƒæ—é€šé“
- **ç¶œåˆè©•åˆ†**: 0-100åˆ†å¤šç¶­åº¦è©•åˆ†ç³»çµ±

### ğŸ’° ç±Œç¢¼è¿½è¹¤
- **ä¸‰å¤§æ³•äºº**: å¤–è³‡/æŠ•ä¿¡/è‡ªç‡Ÿå•†è²·è³£è¶…çµ±è¨ˆ
- **é€£çºŒå¤©æ•¸**: é€£çºŒè²·è¶…/è³£è¶…å¤©æ•¸è¿½è¹¤
- **èè³‡èåˆ¸**: ä½¿ç”¨ç‡ã€è³‡åˆ¸æ¯”ã€é¢¨éšªè­¦ç¤º
- **ä¸»å°åŠ›é‡**: è‡ªå‹•åˆ¤æ–·ç±Œç¢¼ä¸»å°æ–¹

### ğŸ“ˆ æŠ•è³‡çµ„åˆç®¡ç†
- **æŒå€‰ç®¡ç†**: æ–°å¢/åˆªé™¤/æŸ¥è©¢æŒå€‰
- **ç¸¾æ•ˆè¨ˆç®—**: å³æ™‚æç›Šã€å ±é…¬ç‡çµ±è¨ˆ
- **äº¤æ˜“è¨˜éŒ„**: å®Œæ•´äº¤æ˜“æ­·å²è¿½è¹¤
- **è²»ç”¨è¨ˆç®—**: è‡ªå‹•è¨ˆç®—æ‰‹çºŒè²»èˆ‡è­‰äº¤ç¨…

### ğŸ“° æŠ€è¡“åˆ†æä¸­å¿ƒ
- **Kç·šåœ–è¡¨**: TradingViewé¢¨æ ¼åœ–è¡¨
- **è¨Šè™Ÿæ¨™è¨»**: é»ƒé‡‘äº¤å‰/æ­»äº¡äº¤å‰/RSIè¶…è²·è¶…è³£
- **æŒ‡æ¨™é¢æ¿**: MA20, RSI, MACDå³æ™‚æ•¸å€¼
- **æ­·å²å›æ¸¬**: è¨Šè™Ÿæº–ç¢ºåº¦è¿½è¹¤

### âš™ï¸ è‡ªå‹•åŒ–ç³»çµ±
- **N8Nå·¥ä½œæµ**: å°è‚¡/ç¾è‚¡æ•¸æ“šè‡ªå‹•æ›´æ–°
- **å®šæ™‚å ±å‘Š**: AIå ±å‘Šè‡ªå‹•ç”Ÿæˆ
- **æ™ºæ…§è­¦å ±**: å¤šæ¢ä»¶ç›£æ§è§¸ç™¼

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æŠ€è¡“æ£§

**å¾Œç«¯**
- Framework: Flask 3.1.2
- Database: PostgreSQL 15
- AI Model: Google Gemini 2.5 Flash
- Data Processing: pandas, numpy
- WebSocket: Flask-SocketIO

**å‰ç«¯**
- Framework: React 18 + Vite
- UI: TailwindCSS + Lucide Icons
- Charts: Recharts
- Routing: React Router v6
- State: React Hooks

**åŸºç¤è¨­æ–½**
- Container: Docker Desktop
- Automation: N8N
- Version Control: Git

### å°ˆæ¡ˆçµæ§‹

```
å°è‚¡ç¾è‚¡é‡‘èè³‡æ–™åº«/
â”œâ”€â”€ calculators/              # åˆ†æè¨ˆç®—å™¨æ¨¡çµ„
â”‚   â”œâ”€â”€ position_analyzer.py  # ä½éšåˆ†æ
â”‚   â”œâ”€â”€ technical_indicators.py # æŠ€è¡“æŒ‡æ¨™
â”‚   â”œâ”€â”€ institutional_analyzer.py # ä¸‰å¤§æ³•äºº
â”‚   â””â”€â”€ margin_analyzer.py    # èè³‡èåˆ¸
â”œâ”€â”€ api_server_v5.py          # ä¸»APIä¼ºæœå™¨
â”œâ”€â”€ chips_api.py              # ç±Œç¢¼åˆ†æAPI
â”œâ”€â”€ portfolio_api.py          # æŠ•è³‡çµ„åˆAPI
â”œâ”€â”€ transaction_api.py        # äº¤æ˜“API
â”œâ”€â”€ signals_api.py            # è¨Šè™ŸAPI
â”œâ”€â”€ frontend/                 # å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/           # é é¢çµ„ä»¶
â”‚   â”‚   â””â”€â”€ components/      # å…±ç”¨çµ„ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ database/                 # è³‡æ–™åº«schema
â”œâ”€â”€ config/                   # ç’°å¢ƒé…ç½®
â””â”€â”€ n8n_config/              # N8Né…ç½®
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- **Python**: 3.11+
- **Node.js**: 20+
- **Docker Desktop**: æœ€æ–°ç‰ˆ
- **PostgreSQL**: 15 (é€éDocker)

### å®‰è£æ­¥é©Ÿ

#### 1. è³‡æ–™åº«å•Ÿå‹•

```bash
# å•Ÿå‹•PostgreSQLå®¹å™¨
docker start quant_postgres

# å¦‚æœå®¹å™¨ä¸å­˜åœ¨ï¼Œå»ºç«‹æ–°å®¹å™¨
docker run --name quant_postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=quant_db \
  -p 15432:5432 \
  -d postgres:15
```

#### 2. å¾Œç«¯è¨­å®š

```bash
# å®‰è£Pythonä¾è³´
pip install -r requirements.txt

# è¨­å®šç’°å¢ƒè®Šæ•¸
cp config/.env.example config/.env
# ç·¨è¼¯ config/.env å¡«å…¥ GEMINI_API_KEY

# å•Ÿå‹•API Server
python api_server_v5.py
```

#### 3. å‰ç«¯è¨­å®š

```bash
# é€²å…¥å‰ç«¯ç›®éŒ„
cd frontend

# å®‰è£ä¾è³´
npm install

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

#### 4. è¨ªå•ç³»çµ±

- **å‰ç«¯**: http://localhost:5173
- **API**: http://localhost:5000
- **APIæ–‡æª”**: http://localhost:5000/api/health

---

## ğŸ“¡ APIæ–‡æª”

### ç³»çµ±ç®¡ç†

#### å¥åº·æª¢æŸ¥
```http
GET /api/health
```

**å›æ‡‰ç¯„ä¾‹**:
```json
{
  "status": "healthy",
  "version": "v5.0-æ·±åº¦åˆ†æç‰ˆ",
  "database": "connected",
  "features": ["depth_analysis", "chips_analysis", "ai_reports"]
}
```

### è‚¡åƒ¹æ·±åº¦åˆ†æ

#### å®Œæ•´æ·±åº¦åˆ†æ
```http
GET /api/analysis/depth/{stock_code}?market=tw
```

**åƒæ•¸**:
- `stock_code`: è‚¡ç¥¨ä»£ç¢¼ (ä¾‹: 2330)
- `market`: tw (å°è‚¡) æˆ– us (ç¾è‚¡)

**å›æ‡‰ç¯„ä¾‹**:
```json
{
  "stock_code": "2330",
  "position_analysis": {
    "current_price": 589.0,
    "level": "ä¸­æª”å€",
    "percentile_52w": 49.8
  },
  "trend_analysis": {
    "trend": "ä¸Šå‡è¶¨å‹¢",
    "ma_alignment": "åå¤š",
    "strength": 68.5
  },
  "comprehensive_judgment": {
    "recommendation": "åå¤šæŒæœ‰",
    "score": 62.5,
    "confidence": "ä¸­"
  }
}
```

### ç±Œç¢¼åˆ†æ

#### ä¸‰å¤§æ³•äººåˆ†æ
```http
GET /api/chips/{stock_code}/institutional?days=20
```

#### èè³‡èåˆ¸åˆ†æ
```http
GET /api/chips/{stock_code}/margin
```

#### å®Œæ•´ç±Œç¢¼åˆ†æ
```http
GET /api/chips/{stock_code}/all
```

### AIå ±å‘Š

#### ç²å–å ±å‘Šåˆ—è¡¨
```http
GET /api/ai-reports?type=unified_decision&limit=30
```

---

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### æ·»åŠ æ–°è¨ˆç®—å™¨

1. åœ¨ `calculators/` ç›®éŒ„å»ºç«‹æ–°æª”æ¡ˆ
2. å¯¦ä½œè¨ˆç®—é‚è¼¯
3. æ›´æ–° `calculators/__init__.py`
4. æ’°å¯«å–®å…ƒæ¸¬è©¦

ç¯„ä¾‹:
```python
# calculators/my_analyzer.py
class MyAnalyzer:
    @staticmethod
    def analyze(data):
        # åˆ†æé‚è¼¯
        return result
```

### æ·»åŠ æ–°APIç«¯é»

1. å»ºç«‹Blueprintæª”æ¡ˆ (ä¾‹: `my_api.py`)
2. å®šç¾©è·¯ç”±èˆ‡è™•ç†å‡½æ•¸
3. åœ¨ `api_server_v5.py` è¨»å†ŠBlueprint

ç¯„ä¾‹:
```python
# my_api.py
from flask import Blueprint
my_api = Blueprint('my_api', __name__)

@my_api.route('/api/my-endpoint')
def my_endpoint():
    return jsonify({'data': 'value'})

# api_server_v5.py
from my_api import my_api
app.register_blueprint(my_api)
```

### æ·»åŠ æ–°å‰ç«¯é é¢

1. åœ¨ `frontend/src/pages/` å»ºç«‹çµ„ä»¶
2. åœ¨ `App.jsx` æ·»åŠ è·¯ç”±
3. åœ¨ `Sidebar.jsx` æ·»åŠ èœå–®é …

---

## â“ å¸¸è¦‹å•é¡Œ

### Q: APIè¿”å›404éŒ¯èª¤ï¼Ÿ
A: ç¢ºèªAPI Serverå·²å•Ÿå‹•ï¼Œä¸¦æª¢æŸ¥ç«¯é»è·¯å¾‘æ˜¯å¦æ­£ç¢ºã€‚ä½¿ç”¨ `/api/health` æ¸¬è©¦é€£æ¥ã€‚

### Q: å‰ç«¯ç„¡æ³•é€£æ¥å¾Œç«¯ï¼Ÿ
A: æª¢æŸ¥ `frontend/src/services/api.js` çš„API_BASE_URLè¨­å®šã€‚

### Q: è³‡æ–™åº«é€£æ¥å¤±æ•—ï¼Ÿ
A: ç¢ºèªPostgreSQLå®¹å™¨é‹è¡Œä¸­ (`docker ps`)ï¼Œä¸¦æª¢æŸ¥ `config/.env` çš„è³‡æ–™åº«é…ç½®ã€‚

### Q: AIå ±å‘Šç”Ÿæˆå¤±æ•—ï¼Ÿ
A: æª¢æŸ¥ `GEMINI_API_KEY` æ˜¯å¦æ­£ç¢ºè¨­å®šï¼Œä¸¦ç¢ºèªAPIé¡åº¦æœªè¶…é™ã€‚

---

## ğŸ“Š ç³»çµ±ç‹€æ…‹

### åŠŸèƒ½å®Œæˆåº¦

| æ¨¡çµ„ | å®Œæˆåº¦ | ç‹€æ…‹ |
|------|--------|------|
| Dashboard | 100% | âœ… |
| æŠ•è³‡çµ„åˆç®¡ç† | 100% | âœ… |
| äº¤æ˜“æ—¥èªŒ | 100% | âœ… |
| æŠ€è¡“åˆ†æ | 100% | âœ… |
| AIçµ±ä¸€è§€é» | 100% | âœ… |
| æ·±åº¦åˆ†æ | 100% | âœ… |
| ç±Œç¢¼åˆ†æ | 50% | ğŸŸ¡ |
| å°è©±å¼AI | 0% | â³ |

**ç¸½é«”å®Œæˆåº¦**: 49%

### APIç«¯é»çµ±è¨ˆ
- **é‹è¡Œä¸­**: 18å€‹
- **é–‹ç™¼ä¸­**: 5å€‹
- **è¨ˆç•«ä¸­**: 12å€‹

---

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤Issueå’ŒPull Requestï¼

### é–‹ç™¼æµç¨‹
1. Forkå°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•ŸPull Request

---

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

MIT License - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

---

## ğŸ™ è‡´è¬

- **AI Model**: Google Gemini 2.5 Flash
- **æ•¸æ“šä¾†æº**: Yahoo Finance, å°ç£è­‰åˆ¸äº¤æ˜“æ‰€
- **UIéˆæ„Ÿ**: TradingView, Bloomberg Terminal

---

## ğŸ“ è¯çµ¡æ–¹å¼

- **å°ˆæ¡ˆRepository**: [GitHubé€£çµ]
- **å•é¡Œå›å ±**: [Issues](../../issues)
- **åŠŸèƒ½å»ºè­°**: [Discussions](../../discussions)

---

**æœ€å¾Œæ›´æ–°**: 2025-12-05  
**ç‰ˆæœ¬**: v1.0.0 (Beta)
